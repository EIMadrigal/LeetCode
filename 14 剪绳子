class Solution {
public:
    int cuttingRope(int n) {
        if (n < 4) return n - 1;
        
        int r = n % 3;
        if (r == 0) return pow(3, n / 3);
        else if (r == 1) return 4 * pow(3, n / 3 - 1);
        else return 2 * pow(3, n / 3);
    }
};
